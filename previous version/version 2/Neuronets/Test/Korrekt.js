    var Ylength;
    var Wlength;
    var KolYInput = 2;
    var KolYHidensloi = [6,6];//12 // в основном коде масива нет
    var KolYOutput = 2;
    var learningRate = 0.1;
    var d = [0.019700091366064765,0.43990413487229274];
    var error = 0;
    var W = new Object(
        {
            "0": [
              0.3684378203835319,
              -0.1466803105416461,
              0.9548361824458778,
              0.2660024660202107,
              0.869023970358473,
            ],
            "1": [
              0.8388413548798739,
              0.00956261656507884,
              -0.8401385563770751,
              0.13208270599470984,
              -0.2844035932551616,
            ],
            "2": [
              -0.7895372346950507,
              0.4413793022682362,
              0.05150965237731153,
            ],
            "3": [
              -0.4878431564192445,
              -0.9953303863261933,
              0.1580054361219867,
            ],
            "4": [
              0.2042064801925716,
              0.7060923171076352,
              0.726404336021838,
            ],
            "5": [
              -0.26152864832756473,
              0.11560584296430987,
              -0.39264616559473264,
            ],
            "6": [
              -0.20289810983047474,
              0.1686291081682154,
              0.9822402132293995,
            ],
            "7": [
              0.24703764141836793,
              0.44183203080733957,
              0.45489039753313065,
            ],
            "8": [
              0.5411560013333547,
              -0.18559978225955742,
              -0.8011232129711003,
              -0.5315727491402606,
              -0.3302177272458615,
              0.47707481996256584,
              0.9850807401706034,
            ],
            "9": [
              -0.321626881300658,
              0.2993407385195952,
              0.009403811478459811,
              -0.5519928650584331,
              -0.8314116765087403,
              0.13831537726318954,
              0.6268060990676179,
            ],
            "10": [
              -0.07102150525458795,
              0.15604858581673176,
              0.10800395231766613,
              0.1735962704482943,
              -0.7339040693911105,
              0.09635644441816282,
              0.4439337463427808,
            ],
            "11": [
              -0.8094312726637098,
              0.5949853478176541,
              0.5663352275194407,
              0.2568773373079649,
              -0.5978907682999246,
              -0.3417783306436819,
              0.35492868194235605,
            ],
            "12": [
              0.7149932707336131,
              -0.904257682670953,
              -0.800244614932609,
              -0.8450176659730215,
              -0.13906922521305676,
              0.024714945631470364,
              -0.41599281890408957,
            ],
            "13": [
              -0.8185038875589625,
              0.458132244063588,
              0.06921795500654815,
              0.17635909180819187,
              -0.2701649040464176,
              -0.5591313954506667,
              0.17880081003974668,
            ],
            "14": [
              0.8289924107111539,
              -0.39613345181536186,
              -0.29504704715273755,
              -0.5272197314024858,
              0.34937662820302373,
              -0.7616757017188021,
              -0.1897485651452624,
            ],
            "15": [
              0.13672111250013863,
              -0.7015223950048313,
              0.0993154598494046,
              -0.9832838395330743,
              -0.862017721648054,
              -0.6515237697733225,
              -0.6903755417356212,
            ],
          }
    );

    var Y = new Object(
        {
            "0": [
              0.688502682451042,
              0.55131702315559,
            ],
            "1": [
              0.5561387418173288,
              0.4948986238768353,
              0.6654677128321054,
              0.5418181329603463,
              0.6278690183841219,
              0.638739510584484,
            ],
            "2": [
              0.706780351829842,
              0.6663849059937118,
              0.7076821100169873,
              0.7002589608085172,
              0.5688993243179711,
              0.6592179847044134,
            ],
            "3": [
              0.6729432957386151,
              0.5212984833640121,
            ],
          }
    );
    var X = [0.9935807702032942,0.9795735318253556,-0.7308499512853559,-0.2366872442453758];
    var a = 0.23909308597012358;
    //New
    var err = [];
    //
          var hob =0
    var KorrektHiddenSloi= function(err)
    {
      var o = KolYHidensloi.length-1;
      

        
        for(var i = err.length-1; i >= 0; i--)
        {
          hob++
          for(var p = 0; p < W[err[i]].length; p++)
            {
              W[err[i]][p] += error * learningRate
            }
          if(hob == KolYHidensloi[o])
            {
              
              console.log('error = '+ error + '\n');
              error *= KolYHidensloi[o];
               o--
              hob = 0;
            }

        }

      console.log('error у входного слоя = '+ error + '\n');
      
    }




    var Verror = function(input,nm)
    {
        var err = d[nm] - input[nm];
        return err
    }

    var Korrekt = function()
    {
        Ylength = Object.keys(Y).length;
        Wlength = Object.keys(W).length;
        //Коррекция весов выходного слоя
        for(var i = 0; i < d.length; i++ )
        {
            err[i] = Verror(Y[Ylength-1],i);
            error += err[i];
            
            for(var j =0; j < KolYHidensloi.length+1; j++ )
            {
                W[Wlength-1-i][j] += err[i] * learningRate * Y[Ylength-1][i];
            }

        }

        //Коррекция весов скрытых слоев
        for (var i = 0; i < KolYHidensloi.length; i++)
        {
          var Windex = [];
          
            for(var j = Wlength-1-KolYOutput; j >= 0 ; j-- )
            {
              Windex[j] = j;
              
            }
        }

        KorrektHiddenSloi(Windex);

        for(var i = Windex.length; i >= 0; i--)
      {
        console.log('веса №' +i + ":" +  W[i] + '\n'+ '\n');
      }

    }

    Korrekt();


    
































// коррекция version 1
/*var h = 0;
var learningRate = 0.1;
    var Korrekt = function(flag)
    {
        h++
        if(h>1000){return}
        if(flag == false){
            for(var i = 0; i < KolY; i++)
            {
               
                erro = d[i] - Y[i];
                    for(var j =0; j < KolX+1; j++)
                    {
                        W[i][j] += erro * learningRate;
                    }
            }

            for(var i =0; i < KolY; i++)
                {
                    Y[i] = Neuron(X,i)
                }

            for(var i = 0; i< KolY; i++)
            {
                if(Y[i] != d[i]-0.1)
                {
                    
                    Korrekt(false);
                }else
                {
                    Korrekt(true);
                }
               
            }

            
        }else{return}
    }

    Korrekt(false);
    */

    // Коррекция version 2
